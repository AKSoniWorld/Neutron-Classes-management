<!doctype html>
<html>
<head>
    <% include ../partes/head %>
<script>
 

</script>
<script type="text/javascript">
var novaRow = [];
  var x = 0;
  function trocarTabela(element){

    var questRepetida = false;
    var table = document.getElementById('tableCandidatas');
    var row = parseInt(element.parentNode.parentNode.rowIndex);

    novaRow[x] = '<tr><td style="text-align: left;width:125px;">'+ document.getElementById("materia").value +'</td><td style="text-align: left;">' + table.rows[row].cells[0].innerHTML + '</td><td style="text-align: center;">' + table.rows[row].cells[1].innerHTML + '</td><td style="text-align: center;">' + table.rows[row].cells[2].innerHTML + '</td><td><button class="btn btn-danger btn-block" onclick="removerRow(this)">Remover</button></td></tr>';

    for(i = 0; i< novaRow.length-1; i++){
      if (novaRow[x] == novaRow[i]) {
        alert("Questão já selecionada!");
        questRepetida = true;
        break;
      }
    }

    if (!questRepetida) {
      document.getElementById("questSelecionadas").innerHTML += novaRow[x];
      x++;
    }

  }

  function removerRow(btn) {
    x--;
  var row = btn.parentNode.parentNode;
  row.parentNode.removeChild(row);
  novaRow[x] = "";
}
</script>

</head>
<body >
<div class="all">



<div class=" col-xs-2 col-sm-2 col-md-2 col-lg-2 fixed">
<% include ../partes/sidemenu.ejs %>
</div>

</div>

<main id="panel" class="allPage ">
<div class="backTopper">
</div>
<% include ../partes/topmenu.ejs %>

<div class="container-fluid " >
    <span id="pgName"> Criar 
      <span id="traco"> > </span>
      <span id="pgAtual">Prova </span>
    </span>
    <!-- BOTAO PARA CELULAR -->
    <button class="toggle-button no-border" data-toggle="button" >
        <img id="hbmenu" src="/assets/images/menu.png">
    </button>

        <div class="container-fluid">

          <div class="content col-xs-10 col-sm-10 col-md-10 col-lg-10 ">
            <H3>Cadastro de Provas</H3>
            <br>
            <div class="" style="float: left; position: relative;">

              <form class="form-inline"  method="post" action="" name="cadastroProvas">

                <input type="text" disabled id="autor" value=<%= user %> placeholder="Autor" class="form-control" style="width:300px;">&nbsp&nbsp

                <select class="form-control" id="disciplina" style="width:300px;">
                  <option disabled selected>Disciplina</option>

                </select><br><br>

                <select class="form-control" id="serie" style="width:300px;">
                  <option disabled selected>Série</option>
                  <option>1º ano</option>
                  <option>2º ano</option>
                  <option>3º ano</option>
                </select>&nbsp&nbsp

                <select class="form-control" id="tipo" style="width:300px;">
                  <option disabled selected>Tipo</option>
                  <option>Prova</option>
                  <option>Teste</option>
                  <option>Segunda chamada</option>
                </select><br><br>

                <input type="text"  id="nomeP" placeholder="Nome da Avaliação" class="form-control" style="width:612px;"><br>

              </form>

                  <hr style="border: 0.3px solid #DDD; width:610px; margin-left:0px;">
                <H4>Questões</H4><br>

                <select class="form-control" id="materia" style="width:300px;">
                  <option disabled selected>Matéria</option>
                </select><br><br>

                <table class="table" style="width:610px;" id="tableCandidatas">
                  <thead class="thead-inverse">
                    <tr>
                      <th>Enunciado</th>
                      <th style="align:right; text-align:center;">Tipo</th>
                      <th style="align:right; text-align:center;">Nível</th>
                      <th style="align:right; width:75px; text-align:center;">Adicionar</th>
                    </tr>
                  </thead>
                  <tbody id="questCandidatas">
                  </tbody>
                </table>

            </div>

            <div class="" style="position: relative; border-left:1px solid #DDD; margin-left:50px; float:left; height:100%; text-align: center;">
              <table class="table" style="width:750px; margin-left: 50px;" id="tableSelecionadas">
                <thead class="thead-inverse">
                  <tr>
                    <th class="celulasCB">Matéria</th>
                    <th>Enunciado</th>
                    <th style="width: 100px; align:right; text-align:center;">Nível</th>
                    <th style="width: 100px; align:right; text-align:center;">Tipo</th>
                    <th  style="align:right; width:75px;">Remover</th>
                  </tr>
                </thead>
                <tbody id="questSelecionadas">
                </tbody >
              </table>
              <button type="button" id="cadastrar" class="btn btn-default" style="position:relative; align:center;">Cadastrar Prova</button>
            </div>

          </div>

        </div>

        </main>
<script type="text/javascript" src="/assets/js/cadprova.js"></script>

<script>

// Default Open
var slideout = new Slideout({
'panel': document.getElementById('panel'),
'menu': document.getElementById('sid'),
'padding': 270,
'tolerance': 70,
'easing': 'cubic-bezier(.51,2,.81,.41)',
});
slideout.open();

// Toggle button
$(".toggle-button").click(function() {
// alert("oila");
slideout.toggle();
});




$(document).ready(function() {

$(window).resize(function(){
    if ($(window).width() <= 1024){
        // slideout.close();
        // slideout.close();
        slideout.close();

    }else {
        slideout.open();
    }
});
});



</script>

      <% include ../partes/modal %>
<% include ../partes/modalPriv %>
    </body>

    </html>
